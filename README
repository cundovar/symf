

Cette app est dockerisée
Elle est censé être indépendante de toute config de votre pc : 


deux fichiers docker à la racine du projet :

Dockerfile
compose.yaml

images docker utilisées :

image php : php:8.2
image mysql : mysql:8.0
image node : node:20
image nginx : nginx:stable
image phpmyadmin : phpmyadmin/phpmyadmin

Vous pouvez vous aider lors du lancement de docker en utilisant le fichier Makefile si installé
Toute commanede pour makefile commence par "make " exemple : make up

///--------------------------------------------------///


1/ lancer docker : docker-compose up -d --build


2/ pour entrer dans le terminal symfony sur docker : docker-compose exec php bash 

3/ puis composer install  pour installation dependences vendor....
4/puis npm install pour installation dependences node...

5/ faire la migration de la base de données en entrant dans le terminal symfony sur docker :
docker-compose exec php php bin/console doctrine:migrations:migrate

6/ !!!!  si vous avez cette erreur :

 An exception has been thrown during the rendering of a template ("Built Tailwind CSS file does not exist: run "php bin/console tailwind:build" to generate it") in base.html.twig at line 20.

 --> dans le même terminal tapez : 
 
 php bin/console tailwind:build


7/ pour quitter le terminal symfony sur docker : exit 


///--------------------PORTS--------------------///

1/ acceder à phpmyadmin sur http://localhost:8082

user : root
password : root

2/ acceder à l'application sur http://localhost:8085

3/ Suivre les instructions dans l application pour création User Admin et ajout des categories et produits 

4/ pour arrêter docker : docker-compose down

5/ si les ports sont déjà utiliser sur votre pc vous pouvez les modifier dans le fichier compose.yaml :

exemple de changement de ports -> phpmyadmin  - "8083:80" pour phpmyadmin
                               -> nginx  - "8086:80" pour afficher symfony
                             

puis refaire un build : docker-compose up -d --build
        

///----------------------///

 !!!! si vous faite les commandes symfony dans le terminal bash alors vous devrez creer une nouvelle image de l application avec : docker-compose up -d --build
 !!!! si vous lancé les commandes symfony dans le terminal docker alors les changements seront pris en compte directement sans avoir à faire un build


///----------FIN----------///



